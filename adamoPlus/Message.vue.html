<script>  

    const Message=Vue.component('message-component', {
      data: function () {      
        return {        
  
        }
      },      
      computed:{
          styles(){          
            return this.message.typeError ? ['bg-danger'] : ['bg-success'];
          },
          visible(){
            return this.message.visible ? ['show'] : ['hide'];
          }      
        },
      methods:{      
        close:function(){
          this.message.visible=false
          this.message.title=''
          this.message.text=''        
        }
      },
      watch:{
        'message.visible':function(newValue,oldValue) {
          if(newValue){               
            setTimeout(()=>{
              this.close()
            },5000)
          }
        }
      },
      inject: ['message'],
      template:`
         <div class="position-fixed bottom-0 end-0 p-3">
          <div  class=" toast fade"  :class="[styles, visible]" >
            <div class="toast-header">
              <span  class="rounded me-2 btn " :class="styles"  ></span>
              <strong class="me-auto">{{message.title}}</strong>
              <!-- <small>11 mins ago</small>  -->
              <button type="button" class="btn-close" @click="close"></button>
            </div>
            <div class="toast-body text-white">
              {{message.text}}
            </div>
          </div>
        </div> 
        `
  
  
  
    })
  
  
  </script>